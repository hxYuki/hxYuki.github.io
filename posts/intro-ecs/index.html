<!DOCTYPE html><html lang="zh" data-theme> <head><meta charset="utf-8"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v4.4.13"><title>ä½ çŸ¥é“å®‰åˆ©å—ä¹‹ ECS</title><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><link rel="stylesheet" href="/_astro/about.C5B0C2h6.css" />
<style>a[data-astro-cid-gjtny2mx]{color:#00539f}.tags[data-astro-cid-gjtny2mx]{display:flex;flex-wrap:wrap}.tag[data-astro-cid-gjtny2mx]{margin:.25em;border:dotted 1px #a1a1a1;border-radius:.5em;padding:.5em 1em;font-size:1.15em;background-color:#f8fcfd}
</style>
<link rel="stylesheet" href="/_astro/_slug_.CYO6en0k.css" /><script type="module" src="/_astro/hoisted.BJ2QysRc.js"></script><style>[data-astro-transition-scope="astro-f64ip3ln-1"] { view-transition-name: astro-f64ip3ln-1; }@layer astro { ::view-transition-old(astro-f64ip3ln-1) { 
	animation-duration: 2s;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(astro-f64ip3ln-1) { 
	animation-duration: 2s;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(astro-f64ip3ln-1) { 
	animation-duration: 2s;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(astro-f64ip3ln-1) { 
	animation-duration: 2s;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-f64ip3ln-1"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-f64ip3ln-1"] { 
	animation-duration: 2s;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-f64ip3ln-1"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-f64ip3ln-1"] { 
	animation-duration: 2s;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-f64ip3ln-1"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-f64ip3ln-1"] { 
	animation-duration: 2s;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-f64ip3ln-1"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-f64ip3ln-1"] { 
	animation-duration: 2s;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-n5gwkkpg-2"] { view-transition-name: astro-n5gwkkpg-2; }@layer astro { ::view-transition-old(astro-n5gwkkpg-2) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(astro-n5gwkkpg-2) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(astro-n5gwkkpg-2) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(astro-n5gwkkpg-2) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-n5gwkkpg-2"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-n5gwkkpg-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-n5gwkkpg-2"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-n5gwkkpg-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-n5gwkkpg-2"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-n5gwkkpg-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-n5gwkkpg-2"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-n5gwkkpg-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style></head> <body class="bg-basement text-neutral font-default leading-loose mx-auto w-full"> <header class="w-full h-[45vh] shadow-lg overflow-hidden bg-center" data-astro-cid-3ef6ksr2 style="--bgImg: url('https://fastly.jsdelivr.net/gh/hxYuki/im-base@master/4ac9e89ebedbc831ce278f4ad5bbfc58.jpg');"> <nav class=" w-full h-14 flex items-center fixed"> <div class="inner flex flex-row items-center w-full sm:w-[--blank-width] mx-auto"> <div class="hamburger hidden flex flex-col justify-between text-default" data-astro-cid-3weo6hls> <span class="line" data-astro-cid-3weo6hls></span> <span class="line" data-astro-cid-3weo6hls></span> <span class="line" data-astro-cid-3weo6hls></span> </div>   <ul class="nav-links grow flex flex-row"> <li class="group/item relative p-2 font-medium text-base text-white"> <a href="/" class="text-center p-2 uppercase"> é¦–é¡µ  </a>  </li> <!-- <style>
    ul {
        width: max-content;
    }
</style> --><li class="group/item relative p-2 font-medium text-base text-white"> <a href="/blog/" class="text-center p-2 uppercase"> åšå®¢ &gt; </a> <ul data-theme="dark" class="group/menu absolute hidden group-hover/item:block w-max bg-basement bg-opacity-85 text-white shadow-lg rounded-es-xl rounded-se-xl overflow-hidden z-10 left-0 top-full"> <li class="group/item relative p-2 font-medium text-base text-white hover:bg-primary px-4 first:pt-3 last:pb-3 font-normal text-base tracking-widest"> <a href="/archive/" class="text-center p-2 uppercase"> å½’æ¡£  </a>  </li> <!-- <style>
    ul {
        width: max-content;
    }
</style> --><li class="group/item relative p-2 font-medium text-base text-white hover:bg-primary px-4 first:pt-3 last:pb-3 font-normal text-base tracking-widest"> <a href="/tags/" class="text-center p-2 uppercase"> æ ‡ç­¾  </a>  </li> <!-- <style>
    ul {
        width: max-content;
    }
</style> --><li class="group/item relative p-2 font-medium text-base text-white hover:bg-primary px-4 first:pt-3 last:pb-3 font-normal text-base tracking-widest"> <a href="/categories/" class="text-center p-2 uppercase"> åˆ†ç±»  </a>  </li> <!-- <style>
    ul {
        width: max-content;
    }
</style> --> </ul> </li> <!-- <style>
    ul {
        width: max-content;
    }
</style> --><li class="group/item relative p-2 font-medium text-base text-white"> <a href="/about/" class="text-center p-2 uppercase"> å…³äº  </a>  </li> <!-- <style>
    ul {
        width: max-content;
    }
</style> --> </ul> <button id="themeToggle"> <svg width="24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"> <path class="sun" fill-rule="evenodd" fill="currentColor" d="M12 17.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zm0 1.5a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm12-7a.8.8 0 0 1-.8.8h-2.4a.8.8 0 0 1 0-1.6h2.4a.8.8 0 0 1 .8.8zM4 12a.8.8 0 0 1-.8.8H.8a.8.8 0 0 1 0-1.6h2.5a.8.8 0 0 1 .8.8zm16.5-8.5a.8.8 0 0 1 0 1l-1.8 1.8a.8.8 0 0 1-1-1l1.7-1.8a.8.8 0 0 1 1 0zM6.3 17.7a.8.8 0 0 1 0 1l-1.7 1.8a.8.8 0 1 1-1-1l1.7-1.8a.8.8 0 0 1 1 0zM12 0a.8.8 0 0 1 .8.8v2.5a.8.8 0 0 1-1.6 0V.8A.8.8 0 0 1 12 0zm0 20a.8.8 0 0 1 .8.8v2.4a.8.8 0 0 1-1.6 0v-2.4a.8.8 0 0 1 .8-.8zM3.5 3.5a.8.8 0 0 1 1 0l1.8 1.8a.8.8 0 1 1-1 1L3.5 4.6a.8.8 0 0 1 0-1zm14.2 14.2a.8.8 0 0 1 1 0l1.8 1.7a.8.8 0 0 1-1 1l-1.8-1.7a.8.8 0 0 1 0-1z"></path> <path class="moon" fill-rule="evenodd" d="M16.5 6A10.5 10.5 0 0 1 4.7 16.4 8.5 8.5 0 1 0 16.4 4.7l.1 1.3zm-1.7-2a9 9 0 0 1 .2 2 9 9 0 0 1-11 8.8 9.4 9.4 0 0 1-.8-.3c-.4 0-.8.3-.7.7a10 10 0 0 0 .3.8 10 10 0 0 0 9.2 6 10 10 0 0 0 4-19.2 9.7 9.7 0 0 0-.9-.3c-.3-.1-.7.3-.6.7a9 9 0 0 1 .3.8z"></path> </svg> </button> <!-- <style>
    #themeToggle {
        border: 0;
        background: none;
    }
    .sun {
        fill: black;
    }
    .moon {
        fill: transparent;
    }

    :global(.dark) .sun {
        fill: transparent;
    }
    :global(.dark) .moon {
        fill: white;
    }
</style> --> <script>
  document.addEventListener('astro:page-load', () => {
    const theme = (() => {
      if (typeof localStorage !== "undefined" && localStorage.getItem("theme")) {
        return localStorage.getItem("theme");
      }
      if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
        return "dark";
      }
      return "light";
    })();

    // if (theme === "light") {
    //   delete document.documentElement.dataset.theme;
    // } else {
    //   document.documentElement.dataset.theme = "dark";
    // }
    document.documentElement.dataset.theme = theme;

    window.localStorage.setItem("theme", theme);

    const handleToggleClick = () => {
      const element = document.documentElement;
      // element.classList.toggle("dark");
      const isDark = element.dataset.theme === "dark";
      element.dataset.theme = isDark ? "light" : "dark";
      localStorage.setItem("theme", !isDark ? "dark" : "light");

    };

    document
      .getElementById("themeToggle")
      .addEventListener("click", handleToggleClick);
  });
</script>  </div> </nav>  <div class="fixed z-[-1] w-full h-[45vh] pt-[15vh] flex flex-col text-center items-center justify-center" data-astro-cid-3ef6ksr2 style="--bgImg: url('https://fastly.jsdelivr.net/gh/hxYuki/im-base@master/4ac9e89ebedbc831ce278f4ad5bbfc58.jpg');"> <h1 class="text-4xl text-white font-bold font-serif-sc h-max w-max" data-astro-cid-3ef6ksr2 style="--bgImg: url('https://fastly.jsdelivr.net/gh/hxYuki/im-base@master/4ac9e89ebedbc831ce278f4ad5bbfc58.jpg');" data-astro-transition-scope="astro-n5gwkkpg-2"> ä½ çŸ¥é“å®‰åˆ©å—ä¹‹ ECS </h1> </div> <ul class="fixed -z-10 w-full h-full before:block before:absolute before:-z-0 before:bg-black before:bg-opacity-50 before:w-full before:h-full" data-astro-cid-3ef6ksr2 style="--bgImg: url('https://fastly.jsdelivr.net/gh/hxYuki/im-base@master/4ac9e89ebedbc831ce278f4ad5bbfc58.jpg');"> <!-- <img src={headerImage} alt="Header Image" class="object-fill object-center h-[45vh] w-full -z-10" /> --> <li class="absolute h-[45vh] w-full -z-10 bg-center" style="background-image: url('https://fastly.jsdelivr.net/gh/hxYuki/im-base@master/4ac9e89ebedbc831ce278f4ad5bbfc58.jpg');; --bgImg: url('https://fastly.jsdelivr.net/gh/hxYuki/im-base@master/4ac9e89ebedbc831ce278f4ad5bbfc58.jpg');" data-astro-cid-3ef6ksr2></li> </ul> </header>  <!-- <h1 transition:animate="slide" class="text-4xl text-white font-bold font-serif-sc">{pageTitle}</h1> --> <aside class="bg-basement z-0 sm:px-[20rem] py-10 float-right"> <ul data-astro-cid-gjtny2mx> <li data-astro-cid-gjtny2mx><a href="#æ•·è¡çš„ä»‹ç»" data-astro-cid-gjtny2mx>æ•·è¡çš„ä»‹ç»</a></li><li data-astro-cid-gjtny2mx><a href="#â€œåäººç±»â€çš„å¦ä¸€é¢" data-astro-cid-gjtny2mx>â€œåäººç±»â€çš„å¦ä¸€é¢</a></li><li data-astro-cid-gjtny2mx><a href="#çº¯ç²¹çš„ç›®çš„" data-astro-cid-gjtny2mx>çº¯ç²¹çš„ç›®çš„</a></li> </ul> </aside> <main class="bg-basement z-0 sm:px-[20rem] py-10">   <p data-astro-cid-gjtny2mx>å‘è¡¨äºï¼š 5/20/2023</p> <p data-astro-cid-gjtny2mx data-astro-transition-scope="astro-f64ip3ln-1"><em data-astro-cid-gjtny2mx></em></p>   <div class="tags" data-astro-cid-gjtny2mx> <p class="tag" data-astro-cid-gjtny2mx><a href="/tags/ECS" data-astro-cid-gjtny2mx>ECS</a></p><p class="tag" data-astro-cid-gjtny2mx><a href="/tags/æ¸¸æˆå¼€å‘" data-astro-cid-gjtny2mx>æ¸¸æˆå¼€å‘</a></p><p class="tag" data-astro-cid-gjtny2mx><a href="/tags/conquest of star" data-astro-cid-gjtny2mx>conquest of star</a></p> </div>  <p>:::info
æœ¬æ–‡åˆå <a href="/categories/%E5%BC%80%E5%8F%91%E9%9A%8F%E8%AE%B0/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/conquest-of-star/">æ¸¸æˆå¼€å‘æ—¥å¿— (å…¶3ğ’¾)</a>
:::</p>
<h2 id="æ•·è¡çš„ä»‹ç»">æ•·è¡çš„ä»‹ç»</h2>
<p>ECS å³ Entity-Component-System çš„ç¼©å†™ï¼Œæ˜¯ä¸€ç§å°†ä¸–ç•ŒæŠ½è±¡ä¸ºï¼š
ç»„ä»¶ (Component): æŒæœ‰å®Œæˆç‰¹å®šåŠŸèƒ½æ‰€éœ€çš„æ•°æ®çš„ç»“æ„
ç³»ç»Ÿ (System): é€šè¿‡æŸ¥è¯¢ã€ä¿®æ”¹{æ•°æ®^ç»„ä»¶}å®ç°æƒ³è¦çš„è¡Œä¸ºçš„â€œå‡½æ•°â€
å®ä½“ (Entity): æŒæœ‰ä¸€ç³»åˆ—ç»„ä»¶çš„ä¸ªä½“çš„æ ‡è¯†</p>
<p>ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼šå¯¹äºä¸€ä¸ªå®ä½“ â€œCarâ€ï¼Œè¦å®ç°ç§»åŠ¨ã€è½½äººè¿™ä¸¤æ ·åŠŸèƒ½çš„è¯ï¼Œåˆ™éœ€è¦ç»„ä»¶ â€œMovableâ€ã€â€œLoadableâ€ å…¶ä¸­å¯ä»¥å­˜å‚¨ â€œé€Ÿåº¦ (Movable)â€ æˆ– â€œä¹˜å‘˜æ•° (Loadable)â€ è¯¸å¦‚æ­¤ç±»çš„æ•°æ®ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡ç³»ç»Ÿè·å–æ‰€æœ‰ â€œMovableâ€ å’ŒæŸç§â€œç›®æ ‡â€ã€â€œæ–¹å‘â€ä¸€ç±»çš„æ•°æ®ï¼Œè¿›è€Œç§»åŠ¨å®ä½“çš„ â€œTransformâ€ ï¼›è½½äººåŠŸèƒ½äº¦å¦‚æ­¤ï¼Œä½ ä¹Ÿå¯ä»¥å¤šæŸ¥è¯¢ä¸€ä¸ª â€œMovableâ€ ï¼Œé…åˆ â€œLoadableâ€ åœ¨ä¹˜å‘˜å˜åŒ–æ—¶å½±å“ â€œé€Ÿåº¦ (Movable)â€ è®©ç©ºè½¦æ›´å¿«ã€‚</p>
<p>æ˜¾è€Œæ˜“è§ï¼Œè¿™æ ·çš„èŒƒå¼ä¸ä¸»æµçš„é¢å‘å¯¹è±¡çš„æ€è·¯å¤§ç›¸å¾„åº­ï¼Œå°†æ•°æ®ä¸è¡Œä¸ºéš”ç¦»å¼€ï¼Œç¼–å†™è¡Œä¸ºæ¥å½±å“ä¸ç‰¹å®šèŒƒå›´çš„æ•°æ®ï¼Œæ•°æ®æ—¢æ˜¯è¡Œä¸ºçš„ç»“æœåˆæ˜¯è¡Œä¸ºçš„åŸå› ï¼Œæ­¤ä¸ºé¢å‘æ•°æ®ç¼–ç¨‹ (Data Oriented Programing - DOP)ã€‚</p>
<p>å…¶æ˜¾è‘—çš„ç‰¹ç‚¹<del>æ˜¯è®¾è®¡æ€è·¯åäººç±»</del>
æ˜¯é«˜æ€§èƒ½ï¼Œå¾—ç›Šäºå…¶æ•°æ®ç»„ç»‡æ–¹å¼ï¼Œ{ç³»ç»Ÿ^System}åœ¨è¿è¡Œæ—¶è®¿é—®æ•´å—è¿ç»­çš„åŒç§æ•°æ®ï¼Œæ¬¢å‘¼å§ï¼Œç¼“å­˜ï¼
:::default
æœ‰è¿™æ ·çš„ä¸€ç§è¯´æ³•ï¼šå¯¹ç°ä»£CPUè€Œè¨€ï¼Œæ•´ä½“è¿è¡Œé€Ÿåº¦çš„ç“¶é¢ˆåœ¨äºå­˜å‚¨è®¿é—®â€”â€”ä½ çš„æŸç®—æ³•çš„ä¼˜åŒ–ç‰ˆæœ¬å¾ˆå¯èƒ½ä¸å¦‚å…¶å¯¹ç¼“å­˜å‹å¥½çš„æš´åŠ›å¾ªç¯ç‰ˆæœ¬
:::
è€Œä¸”è¿˜æœ‰ä¸€ç§æ½œè—çš„ä¼˜åŒ–ç©ºé—´â€”â€”æ‰¹é‡é‡å¤çš„æ•°æ®å¯ä»¥å¾ˆå¥½çš„è¢«GPUå¤„ç†ï¼Œæˆ–è®¸ä½ èƒ½æ›´è½»æ¾çš„åˆ©ç”¨åˆ°åœ¨çœ‹æˆçš„GPUã€‚</p>
<h2 id="åäººç±»çš„å¦ä¸€é¢">â€œåäººç±»â€çš„å¦ä¸€é¢</h2>
<p>ç¡®å®æœ‰ç›¸å½“çš„å£°éŸ³ï¼šECS çš„ä»£ç ç»„ç»‡æ–¹å¼æœ‰æ‚–äººç±»ç›´è§‰ã€‚
è€Œè¿™ä¹Ÿç¡®å®ä¸æ˜¯ç©ºç©´æ¥é£ï¼Œä¸è¿‡å¦‚æœä½¿ç”¨ECSçš„ä¼˜åŠ¿ä»…ä»…åªæ˜¯åœ¨æ€§èƒ½æ–¹é¢çš„è¯ï¼Œé‚£ä¹ˆä¹Ÿä¸ä¼šæœ‰æœ¬æ–‡å‡ºç°äº†ã€‚<del>æ€§èƒ½ï¼Œå®ƒå€¼å‡ ä¸ªé’±ï¼Ÿ</del> !!ä¹Ÿä¸æ˜¯å¾ˆé…è°ˆæ€§èƒ½çš„è¯´!!</p>
<p>å›åˆ°ä¸Šé¢çš„ä¾‹å­ï¼Œç›´è§‰æ¥æƒ³ï¼Œâ€œCarâ€ éœ€è¦èƒ½è·‘èƒ½è½½äººï¼Œæœ‰äº† â€œè½½å…·â€ è¿™ä¸€æ¦‚å¿µï¼Œæˆ‘å®ç°ä¸€ä¸ªè½½å…·ï¼Œèƒ½è·‘èƒ½è£…äººï¼Œå†™å®Œæ”¶å·¥ï¼Œä¹Ÿæ²¡ä»€ä¹ˆä¸å¥½çš„ï¼Œè½»æ¾åˆæ„‰å¿«ï¼Œè€Œä»…ä»…å†™ä¸€ä¸ª â€œLoadableâ€ å¯ä¸èƒ½å®ç°è½½äººï¼Œä½ å¾ˆå¯èƒ½éœ€è¦ç»™äººæ·»åŠ ä¸€ä¸ª â€œTakeCarâ€ ç»„ä»¶å†äº¤ç»™æŸä¸ªç³»ç»Ÿå¤„ç†è€Œä¸æ˜¯ <code>car.Load(people)</code>ï¼Œä½•å¼‚äºè¤ªè£¤è€Œæ”¾å±è€…ï¼Ÿ</p>
<p>ä¸è¿‡ç”Ÿæ´»æœªå¿…æ€»æ˜¯ä¼šä¸€å¸†é£é¡ºï¼Œé—®é¢˜æ€»æ˜¯ä¼šæ¥çš„ï¼Œè®©æˆ‘ä»¬æ›´è¿›ä¸€æ­¥ã€‚
â€œCarâ€ æ˜¯è¦æ¥å¼€çš„ï¼Œåœ¨æ­¤å…ˆå‡è®¾è½½å…·ä¸ç©å®¶æœ¬äººçš„æ§åˆ¶æ–¹å¼ä¸€è‡´ï¼Œè¿™é‡Œå°±éœ€è¦å…ˆè§£é™¤æ§åˆ¶ç©å®¶å•ä½è½¬è€Œæ§åˆ¶è½½å…·ï¼Œç¨æœ‰ä¸æ…ï¼Œå¯èƒ½ä¸¤å¥—æ§åˆ¶ä»£ç å°±æ¥äº†ï¼Œè€Œå°†ç©å®¶èº«ä¸Šçš„ <code>Controllable</code> æˆ–è€…å«åˆ«çš„ä»€ä¹ˆç§»åŠ¨åˆ°è½½å…·ä¸Šæ˜¯å¾ˆè‡ªç„¶çš„ä¸€ä»¶äº‹æƒ…â€”â€”ä½ æ€»éœ€è¦ä¸€ä¸ªæ–¹å¼åœ¨èŒ«èŒ«çš„Entitiesä¸­æ‰¾å‡ºä½ è¦æ§åˆ¶çš„é‚£ä¸ªã€‚
å¦‚æœæœ‰å¾ˆå¤šè½½å…·çš„è¯ï¼Œè¿˜æ˜¯è®©ä¸€éƒ¨åˆ†åŠ¨èµ·æ¥æ¯”è¾ƒè‡ªç„¶ï¼Œæœ‰æ²¡æœ‰æƒ³è¿‡è¦æ€ä¹ˆç”¨<code>car.MoveTo(..)</code>æ¥ç»„ç»‡ä¸€ä¸ªäº¤é€šç½‘ï¼Ÿæˆ‘æœ‰ä¸€è®¡ï¼Œä¸å¦‚æ”¾å¼ƒæ€è€ƒï¼Œçœ‹æˆ‘ç”¨ä¸€ä¸ª{ç³»ç»Ÿ^System}æŸ¥è¯¢ <code>AutoRun</code>ï¼Œç»™æ²¡æœ‰<code>MoveTo</code>çš„å®ä½“æ·»åŠ ä¸€ä¸ªæ–°ç›®æ ‡<code>MoveTo</code>ï¼Œéšåç­‰ç€æŒç®¡ â€œMovableâ€ çš„ç³»ç»Ÿç§»åŠ¨åˆ°ä½åˆ é™¤<code>MoveTo</code>ä¾¿å¥½ã€‚æ—¥åè‹¥æ˜¯æƒ³ç»™ç©å®¶çš„è½½å…·æ·»åŠ è‡ªåŠ¨é©¾é©¶ä¹Ÿä¸å¿…å¦‚ç°å®é‡Œä¸€æ ·è‹¦è‹¦ç ”å‘ä¸€ç•ªã€‚
å¾ˆä¸å·§ï¼Œåˆšåˆšæ‹è„‘è¢‹æƒ³åˆ°æˆ‘ä»¬åº”è¯¥åŠ å…¥åœ°å ¡ï¼šå•ä½è¿›å…¥å¯ä»¥è·å¾—åº‡æŠ¤ã€‚å“å‘€ï¼Œè¿™ä¸æ˜¯æ²¡æœ‰ â€œMovableâ€ çš„ â€œCarâ€ ä¹ˆï¼Œè¿™ä¸‹æˆ‘ä»¬æ¯”æ‹¼ä¸€ä¸‹ä¸‹ç­é€Ÿåº¦å§ ;)ã€‚</p>
<p>åˆ°æ­¤ï¼Œä¸çŸ¥å„ä½æ˜¯å¦å·²ç»æœ‰äº›è®¸æ—¢è§†æ„Ÿï¼ŒECS-wayçœŸçš„å°±ä¸æˆ‘ä»¬çš„ç›´è§‰â€”â€”æˆ–è€…è¯´æˆ‘ä»¬å·²ç»ç†Ÿæ‚‰çš„æŸç§èŒƒå¼æƒ³å»ç”šè¿œå—ï¼Ÿæ¯”è¾ƒæ“…é•¿æŠ½è±¡ï¼ˆç‹­ä¹‰ï¼‰å¤šå°‘å·²ç»ä¸»åŠ¨æˆ–è¢«åŠ¨çš„æ¥è§¦åˆ°â€œç»„åˆä¼˜äºç»§æ‰¿â€ã€â€œIs A ä¸ Has A çš„çº ç¼ â€ä¸€ç±»çš„çº·çº­ã€‚
åœ¨æ­¤æš´è®ºï¼š<strong>DOPå°±æ˜¯åœ¨å®Œå…¨æ§åˆ¶çš„åœºé¢ä¸‹é€‚åˆäºå¤§é‡å¹¿æ³›ç›¸äº’ä½œç”¨åœºæ™¯çš„OOPçš„æé™å€¼</strong>ã€‚</p>
<p>å½“æˆ‘ä»¬æƒ³åˆ° â€œè½½å…·â€ çš„æ¦‚å¿µï¼Œå†è¿›ä¸€æ­¥ï¼Œåˆ‡è‡³ä¸å¯åˆ†çš„ â€œMovableâ€ã€â€œLoadableâ€ ä»¥è‡³äºæ›´å¤šéœ€è¦çš„éƒ¨åˆ†ï¼Œè¿™ä¸€è¿‡ç¨‹å®é™…ä¸Šå°±æ˜¯è¾“å‡ºä»£ç çš„å‰ç½®å‡†å¤‡å·¥ä½œï¼Œå³ä¾¿å¹¶æœªæ‹†åˆ†å‡ºç»„ä»¶ä¹Ÿæ˜¯å¦‚æ­¤ã€‚
å¾—ç›Šäºæ•°æ®å®Œå…¨è¢«æ‹†åˆ†å‡ºå»ï¼Œè¡Œä¸ºä»£ç å¯ä»¥å®Œå…¨å¤ç”¨ï¼Œå†ä¹Ÿä¸éœ€è¦çº ç»“æ¶‰åŠåˆ°å¤šä¸ªç»„ä»¶æ—¶åˆ°åº•æŠŠåŠŸèƒ½å®ç°åˆ°ä»€ä¹ˆåœ°æ–¹ï¼Œéœ€è¦æ”¹åŠ¨æ—¶é€šå¸¸åªéœ€è¦æ¶‰åŠæœ‰é™çš„åŒºåŸŸâ€”â€”å¹³é“ºçš„çº¿æ€§æµç¨‹ï¼Œè€Œä¸æ˜¯æŸ³æš—èŠ±æ˜çš„åµŒå¥—è°ƒç”¨ï¼Œæ›´æ˜¯å¯ä»¥é€šè¿‡ç©å¼„{æ ‡ç­¾^ç»„ä»¶}æ¥å®ç°æ–°åŠŸèƒ½ã€‚</p>
<p>èƒ½å¤Ÿå¦‚æ­¤æ‹†åˆ†æ•°æ®çš„ä¸€ä¸ªåŸå› æ˜¯æ¸¸æˆçš„ä¸–ç•Œæœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„æ€§è´¨ï¼šè¿™é‡Œé¢çš„ä¸€åˆ‡éƒ½æ˜¯å®Œå…¨å°é—­çš„ï¼Œå®Œå…¨ç”±æˆ‘ä»¬â€”â€”ç¨‹åºå‘˜æ¥æ§åˆ¶ï¼Œè€Œç©å®¶ï¼Œåˆ™ä»…èƒ½é€šè¿‡æœ‰é™çš„è¾“å…¥äº‹ä»¶æ¥æ“ä½œï¼Œè€Œä¸æ˜¯å‡ åä¸ªAPIï¼Œå®åœ¨åªèƒ½ç®—ä½œå¤–äºº<del>è¦è¢«éª—åˆ°åº•è£¤éƒ½ä¸å‰©çš„</del>ã€‚
æ­£æ˜¯å› ä¸ºå°é—­ï¼Œä¸ä¼šæœ‰è®¿é—®åˆ°ä¸è¯¥è®¿é—®çš„æ•°æ®è¿™ç§æƒ…å†µï¼Œè€Œæ°å¥½è¿™é‡Œé¢çš„æ•°æ®éšæ—¶æœ‰å¯èƒ½å½¼æ­¤äº§ç”Ÿè”ç³»â€”â€”çµæ„Ÿæ¥å•¦ï¼
é™åˆ¶è®¿é—®â€”â€”åœ¨æ•°æ®å †åœ¨ä¸€èµ·æ—¶ä¸å¾—å·²è€Œä¸ºä¹‹çš„æ‰‹æ®µï¼Œç»ˆäºå¾—ä»¥æ‘†è„±ï¼Œäºæ˜¯ç»™äºˆæˆ‘ä»¬æå¤§çš„çµæ´»æ€§ã€‚</p>
<p>:::default no-icon
çªç„¶æœ‰äº†ä¸€ä¸ªé‚ªæ¶çš„æƒ³æ³•ï¼Œé€šè¿‡C#çš„æ‰©å±•æ–¹æ³•ä¹Ÿå¯ä»¥å®ç°ç±»ä¼¼çš„æ•ˆæœã€‚</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">public</span><span style="color:#F97583"> static</span><span style="color:#F97583"> class</span><span style="color:#B392F0"> ExtMethods</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    public</span><span style="color:#F97583"> static</span><span style="color:#F97583"> void</span><span style="color:#B392F0"> DoSometing</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">T</span><span style="color:#E1E4E8">>(</span><span style="color:#F97583">this</span><span style="color:#B392F0"> T</span><span style="color:#B392F0"> entity</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">where</span><span style="color:#B392F0"> T</span><span style="color:#E1E4E8">: </span><span style="color:#B392F0">Interface1</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Interface2</span><span style="color:#E1E4E8">, .. {</span></span>
<span class="line"><span style="color:#6A737D">        // ...</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>é¿å¼€äº†æ¥å£ä¸æ–¹ä¾¿å¸¦å®ç°çš„é™åˆ¶ï¼Œä¸€äº›å·¥å…·æ–¹æ³•å®Œå…¨å¯ä»¥é€šè¿‡ç»™<code>T</code>æ·»åŠ çº¦æŸæ¥å®ç°ï¼Œæˆ‘å¹²ï¼Œæ„Ÿè§‰è¿˜çœŸæœ‰é‚£ä¹ˆäº›å¯è¡Œæ€§ã€‚
:::</p>
<h2 id="çº¯ç²¹çš„ç›®çš„">çº¯ç²¹çš„ç›®çš„</h2>
<p>æ‰€ä»¥å›åˆ°æ€è€ƒæ–¹å¼ä¸Šæ¥ï¼ŒECS æˆ–è€…è¯´ DOPï¼Œç›¸æ¯”äºâ€œç›´è§‰â€ï¼Œåªæ˜¯åœ¨æŠ½è±¡ä¸Šæ›´è¿›äº†ä¸€æ­¥â€”â€”å°†æˆ‘ä»¬çš„æƒ³æ³•ï¼Œåˆ†è§£æˆä¸€ä¸ªä¸ªç®€å•çš„é€»è¾‘ï¼Œå†ç»„åˆèµ·æ¥ã€‚
å°±å¦‚å‰æ–‡æ‰€ä¸¾çš„ â€œMovableâ€ ï¼Œå…¶å®ç©å®¶çš„è§’è‰²ã€è‡ªåŠ¨è¡ŒåŠ¨çš„ NPCã€ä¹ƒè‡³è”æœºä¸­å…¶ä»–ç©å®¶æ“æ§çš„è§’è‰²ï¼Œå®ƒä»¬çš„ç§»åŠ¨éƒ½æ²¡æœ‰ä»€ä¹ˆä¸åŒï¼Œå…¶çœŸæ­£çš„åŒºåˆ«åœ¨äº â€œè¡ŒåŠ¨æ„å›¾â€ çš„æ¥æºï¼š</p>
<ul>
<li>ç©å®¶çš„è§’è‰²çš„ç§»åŠ¨ç”±ç©å®¶çš„è¾“å…¥é©±åŠ¨</li>
<li>è‡ªåŠ¨è¡ŒåŠ¨çš„ NPC çš„ç§»åŠ¨ç”± AI çš„å†³ç­–é©±åŠ¨</li>
<li>è”æœºä¸­å…¶ä»–ç©å®¶æ“æ§çš„è§’è‰²çš„ç§»åŠ¨ç”±ç½‘ç»œè¯»å–çš„æ•°æ®é©±åŠ¨</li>
</ul>
<p>äºæ˜¯æˆ‘ä»¬çœŸæ­£è¦åšçš„å°±æ˜¯åŒºåˆ†è¿™äº›ç±»å‹çš„å•ä½ï¼Œåˆ†åˆ«ä¸ºå®ƒä»¬å®ç°äº§ç”Ÿ â€œMoveToâ€ çš„ç³»ç»Ÿã€‚å¹¶ä¸”å€ŸåŠ©è¿™ä¸ªæ§åˆ¶ Movable çš„ç³»ç»Ÿï¼Œåœ¨ä¹‹åçš„å¼€å‘ä¸­æˆ‘ä»¬éƒ½ä¸å¿…å†è€ƒè™‘ä¸€ä¸ªå®ä½“è¦å¦‚ä½•ç§»åŠ¨çš„é—®é¢˜ï¼Œå³ä½¿æ˜¯å­å¼¹ï¼Œå³ä½¿æ˜¯è¿›è¡Œä¼˜ç¾æ›²çº¿è¿åŠ¨çš„å¼¹å¹•ï¼Œåªæœ‰å¦‚ä½•äº§ç”Ÿ â€œMoveToâ€ ï¼Œä»¥åŠå®ƒå¦‚ä½•å˜åŒ–çš„é—®é¢˜ã€‚</p>   </main> <footer class="flex flex-col my-8 mx-auto w-max gap-4"> <div class="text-sm flex flex-col gap-1 items-center"> <span class=" ">
Â© 2021 â€“ 2023 âšª Author @ Site </span> <span></span> <span>Powered by <a href="https://astro.build/">Astro</a></span> </div> </footer> </body></html> 